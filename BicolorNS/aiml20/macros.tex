\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{amssymb,latexsym}
\usepackage{stmaryrd}

\usepackage{colonequals}

\usepackage[matrix,arrow]{xy}
\usepackage[noxy]{../../virginialake}
%\vlnosmallleftlabels
\vlnostructuressyntax

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%% Colour
%%\definecolor{notgreen}{rgb}{.1,.6,.1}
%%\newcommand{\todo}[1]{\textcolor{red}{TODO: #1}}
%%\newcommand{\red}[1]{{\color{red}{#1}}}
%%\newcommand{\blue}[1]{{\color{blue}{#1}}}
%%\newcommand{\marianela}[1]{{\color{purple}[Marianela: #1]}}
%%\newcommand{\sonia}[1]{{\color{blue}[Sonia: #1]}}
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%% General
%\newcommand{\F}{\mathcal{F}}
%\newcommand{\M}{\mathcal{M}}
%%\newcommand{\G}{\mathcal{G}}
%\newcommand*{\DD}{\mathcal{D}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%% Logic
\newcommand*{\ax}[1]{\mathsf{#1}}
\newcommand*{\kax}[1][]		{\ax{k_{#1}}}
%\newcommand*{\A}{\mathcal{A}}
%
%\newcommand{\force}[2]{#1\Vdash#2}
%\newcommand{\nforce}[2]{#1\nVdash#2}
%%
%\newcommand{\height}[1]{|#1|}
\newcommand*{\rel}{R}
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%% Connectives
\newcommand*{\NOT}{\neg}
\newcommand*{\AND}{\mathbin{\wedge}}
\newcommand*{\TOP}{\mathord{\top}}
\newcommand*{\OR}{\mathbin{\vee}}
\newcommand*{\BOT}{\mathord{\bot}}
\newcommand*{\IMP}{\mathbin{\supset}}

\newcommand*{\BOX}{\mathord{\Box}}
\newcommand*{\DIA}{\mathord{\Diamond}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%% Systems
%\newcommand*{\K}{\mathsf{K}}
\newcommand*{\IK}{\mathsf{IK}}
%
\newcommand*{\lab}{\mathsf{lab}}
\newcommand*{\n}{\mathsf{n}}
%
\newcommand*{\labIKp}{\lab\IK_{\le}}
\newcommand*{\nIKp}{\n\IK_{\le}}
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%% Nested sequents
%%%%%%%%%%%%%%%%%
%% intuitionistic annotations
\newcommand*{\rt}[1]{#1^\circ}
\newcommand*{\lf}[1]{#1^\bullet}
%
\newcommand*\mdelim[3]{%
	\mathopen{}\left#1%
	#3%
	\right#2\mathclose{}%
}
%
\makeatletter
%\newcommand*\BR[2][]{\mdelim{\lbrack\strut^{#1}}{\rbrack}{#2}}
\newcommand*{\BR}{%
\@ifnextchar\i{\br@two}{%
\@ifnextchar\bgroup{\br@one}{% 
}}}
\newcommand*{\br@one}[1]{%
\def\br@{#1}%
\mdelim{\lbrack}{\rbrack}{\ifx\br@\empty\mkern 3mu\else #1\fi}%
}
\newcommand*{\br@two}[3]{%
\def\br@{#3}%
\mdelim{\lbrack\strut^{#2}}{\rbrack}{\ifx\br@\empty\mkern 3mu\else #3\fi}%
}
%
\newcommand*{\bBR}{%
\@ifnextchar\i{\bbr@two}{%
\@ifnextchar\bgroup{\bbr@one}{% 
}}}
\newcommand*{\bbr@one}[1]{%
\def\br@{#1}%
\mdelim{\llbracket}{\rrbracket}{\ifx\br@\empty\mkern 3mu\else #1\fi}%
}
\newcommand*{\bbr@two}[3]{%
\def\br@{#3}%
\mdelim{\llbracket\strut^{#2}}{\rrbracket}{\ifx\br@\empty\mkern 3mu\else #3\fi}%
}
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% contexts
\makeatletter
\newcommand*{\cxs}{%
\@ifnextchar\i{\cxs@two}{%
\@ifnextchar\bgroup{\cxs@one}{% % \bgroup is the same as {
}}}
\newcommand*{\cxs@one}[1]{%
\def\cxs@{#1}%
\mdelim{\lbrace}{\rbrace}{\ifx\cxs@\empty\mkern 3mu\else #1\fi}%
%\cxs@one@decor%
}
\newcommand*{\cxs@two}[3]{%
\def\cxs@{#3}%
\mdelim{\lbrace\strut^{#2}}{\rbrace}{\ifx\cxs@\empty\mkern 3mu\else #3\fi}%
%\cxs@one@decor%
}
%\def\cxs@one@decor{%
%\@ifnextchar_{\cxs@one@sub}{%
%\@ifnextchar^{\cxs@one@sup}{%
%\@ifnextchar\dots{\@firstoftwo{\dotsm\cxs@one@decor}}{%
%	\@ifnextchar[{\cxs@one@arg}%]
%	\cxs}}}%
%}
%\def\cxs@one@sub_#1{_{#1}\cxs@one@decor}
%\def\cxs@one@sup^#1{^{#1}\cxs@one@decor}
%\def\cxs@one@arg[#1]{{#1}\cxs@one@decor}

%% Change these as needed, but keep the \cx@continuation at the end
%\def\cx@delete@always#1{{#1}^{\ast}\cx@continuation}
%\def\cx@delete@right#1*{{#1}^{\star}\cx@continuation}
%\def\cx@delete@focus#1\f{{#1}^{\scriptscriptstyle\not{\langle}{\rangle}}\cx@continuation}
%
%\def\cx@delete@star#1*{%
%\@ifnextchar*{\cx@delete@right{#1}}{\cx@delete@always{#1}}%
%}

\newcommand*{\@makecontextual}[2]{
\newcommand*{#1}{%
\@ifnextchar*{\cx@delete@star{#2}}{%
\@ifnextchar\f{\cx@delete@focus{#2}}{%
	#2\cx@continuation}}%
}%
}
\newcommand*{\cx@continuation}[1][]{_{#1}\cxs}

\@makecontextual{\Cx}{\Gamma}
\makeatother
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%Rules
\newcommand*{\rn}[1]  {\ensuremath{\mathsf{#1}}}
%\newcommand*{\invr}[1]{#1^\mathsf{inv}}
%
\newcommand*{\rrn}[2][]  {\rn{#2}_\rn{R#1}}
\newcommand*{\lrn}[2][]  {\rn{#2}_\rn{L#1}}
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%% Labelled sequents

\newcommand*{\lb}[1]{#1}%{{\color{blue}{#1}}}
\newcommand*{\fm}[1]{#1}%{{\color{notgreen}{#1}}}
%
\newcommand{\SEQ}{\Rightarrow}
\newcommand{\B}{\mathcal{B}}
\newcommand{\Left}{\mathcal{L}}
\newcommand{\Right}{\mathcal{R}}
%
\newcommand*{\labels}[2]{\lb{#1}\mathord{:}\fm{#2}}
\newcommand*{\accs}[2]{\lb{#1}R\lb{#2}}
\newcommand*{\futs}[2]{\lb{#1}\le{\lb{#2}}}
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%% Labelled rules
\newcommand*{\labrn}[2][]  {\rn{#2}_{#1}}%^{\lab}}}
\newcommand*{\rlabrn}[2][]  {\rn{#2}_\rn{R#1}}%^\lab}}
\newcommand*{\llabrn}[2][]  {\rn{#2}_\rn{L#1}}%^\lab}}
%%
