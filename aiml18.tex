\documentclass[twoside]{aiml18}

\usepackage{aiml18macro}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Setting the correct page numbers                      
% Ignore the next two commented lines                   
% but please don't delete                               
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\input{../procnum.tex}
%\numbering{../aiml18db}{paper}

% definitions specific to your article
\newcommand{\ob}{[}
\newcommand{\cb}{]}
                        
%% Marianela's macros
\usepackage{virginialake}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{float}
\usepackage{color}
\floatstyle{boxed} 
\restylefloat{figure}

\input{aiml_macros}

%% Some recommended packages.
\usepackage{booktabs}   %% For formal tables:
                        %% http://ctan.org/pkg/booktabs
\usepackage{subcaption} %% For complex figures with subfigures/subcaptions
                        %% http://ctan.org/pkg/subcaption

%% Sonia's macros
\usepackage{colonequals}
\usepackage{bm}

\vlnosmallleftlabels

\newcommand{\marianela}[1]{{\color{purple}[Marianela: #1]}}
\newcommand{\sonia}[1]{{\color{blue}[Sonia: #1]}}
\newcommand{\lutz}[1]{{\color{green}[Lutz: #1]}}
\newcommand{\todo}[1]{{\color{red}[TODO: #1]}}

%%% Systems
\newcommand*{\ax}[1]{\mathsf{#1}}
\newcommand*{\kax}[1][]		{\ax{k_{#1}}}
\newcommand*{\lab}{\mathsf{lab}}
\newcommand*{\IK}{\mathsf{IK}}
\newcommand*{\labIKp}{\lab\IK_{\le}}

%%% Connectives
\newcommand*{\NOT}{\neg}
\newcommand*{\AND}{\mathbin{\wedge}}
\newcommand*{\TOP}{\mathord{\top}}
\newcommand*{\OR}{\mathbin{\vee}}
\newcommand*{\BOT}{\mathord{\bot}}
\newcommand*{\IMP}{\mathbin{\supset}}

\newcommand*{\BOX}{\mathord{\Box}}
\newcommand*{\DIA}{\mathord{\Diamond}}

%%% Labelled sequents
\newcommand*{\labels}[2]{{\color{blue}{#1}\:\colon}{#2}}
\newcommand{\SEQ}{\Rightarrow}
\newcommand*{\DD}{\mathcal{D}}
\newcommand*{\rn}[1]  {\ensuremath{\mathsf{#1}}}
\newcommand*{\invr}[1]{#1^\bullet}
\newcommand*{\rel}{R}

%%% Labelled rules
\newcommand*{\labrn}[2][]  {\rn{#2}_{#1}}%^{\lab}}}
\newcommand*{\rlabrn}[2][]  {\rn{#2}_\rn{R#1}}%^\lab}}
\newcommand*{\llabrn}[2][]  {\rn{#2}_\rn{L#1}}%^\lab}}
%
%\DeclareFontShape{U}{MnSymbolC}{m}{n}{
%	<-6>  MnSymbolC5
%	<6-7>  MnSymbolC6
%	<7-8>  MnSymbolC7
%	<8-9>  MnSymbolC8
%	<9-10> MnSymbolC9
%	<10-12> MnSymbolC10
%	<12->   MnSymbolC12}{}
%\DeclareFontShape{U}{MnSymbolC}{b}{n}{
%	<-6>  MnSymbolC-Bold5
%	<6-7>  MnSymbolC-Bold6
%	<7-8>  MnSymbolC-Bold7
%	<8-9>  MnSymbolC-Bold8
%	<9-10> MnSymbolC-Bold9
%	<10-12> MnSymbolC-Bold10
%	<12->   MnSymbolC-Bold12}{}
%
%\DeclareSymbolFont{MnSyC}         {U}  {MnSymbolC}{m}{n}
%%
%\DeclareMathSymbol{\diamondplus}{\mathbin}{MnSyC}{124}
%\DeclareMathSymbol{\boxtimes}{\mathbin}{MnSyC}{117}
%
\newcommand*{\brsym}{\mathord{\scalebox{.8}{$\blacksquare$}}}
\newcommand*{\boxbrn}[1]{\rn{\brsym_\rn{#1}}}%^{\lab}}}
\newcommand*{\diasym}{\mathord{\blacklozenge}}
\newcommand*{\diabrn}[1][]{\rn{\diasym_\rn{#1}}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%The following line defines the page header consisting of the surnames of the authors.
% Please include only the last names! 
% Separate by commas except the last two surnames which are separated by an "and".
\def\lastname{Marin, Morales and Stra{\ss}burger}

\begin{document}

\begin{frontmatter}
  \title{Decomposing labelled proof theory for intuitionistic modal logic}
  \author{Sonia Marin}
  \address{IT-Universitetet i K{\o}benhavn \\ Denmark }
 \author{Marianela Morales}
 \address{Universidad Nacional de C\'ordoba \\ Argentina}
   \author{Lutz Stra{\ss}burger}
 \address{Inria Saclay \& LIX, \'Ecole Polytechnique \\ France}

 \begin{abstract}
   We present a labelled sequent system for intuitionistic modal logic equipped 
   with two relation symbols, one for the accessibility
   relation associated with the Kripke semantics for modal logics and
   one for the preorder relation associated with the Kripke semantics
   for intuitionistic logic. 
   %
   Thus, it is in close correspondence with birelational Kripke semantics for intuitionistic modal logic and can encompass a wider range of intuitionistic logics than state-of-the-art labelled systems.


   %% . We show the possibility of extend labelled sequents
   %% with a preorder relation symbol in order to capture intuitionistic
   %% modal logic. For this, we obtain a proof system which is complete
   %% with respect to Hilbert system.  Also, we present the proof for
   %% completeness using Simpson system.
  \end{abstract}

  \begin{keyword}
  Intuitionistic modal logic, Labelled sequents, Proof theory.
  \end{keyword}
 \end{frontmatter}


\section{Introduction}
%%One possible-world semantics was established as a solid base to define modal logics, the idea of incorporating these notions into the proof theory of modal logics emerged. Fitch seems to have been the first one to formalise it, directly including symbols representing worlds into the language of his proofs in natural deduction \cite{Fitch}.

\emph{Labelled deduction} has been proposed by Gabbay~\cite{Gabbay} in the 80s as a unifying framework throughout proof theory in order to provide proof
systems for a wide range of logics. 
%
For modal logics it can take
the form of labelled natural deduction and labelled sequent systems as
used, for example, by Simpson~\cite{Simpson}, Vigan\`o~\cite{Vigano} and
Negri~\cite{Negri}. 
%
These formalisms make explicit use not only of
labels, but also of relational atoms referring to the accessibility relation of a Kripke frame.
%
In this short note we propose a system that represents both the \emph{accessibility relation} (for modal
logics) and the \emph{preorder relation} (for intuitionistic
logic), using the full power of the bi-relational semantics for
intuitionistic modal logics,
and developing fully the idea that Maffezioli, Naibo and Negri employed in~\cite{Maffezioli}. 

%\sonia{Removed paragraph. Simpson's system can easily be made multi-conclusion in the style of Maehara without the $\le$-atoms.}
%\lutz{maybe, but getting all the theorems right is not so easy, we had a hard time in the nested variant}
%\sonia{I did not mean it like that. I mean that the point of our system is not that it is multi-conclusion (it is that it allows us to give systems for some more logics!). This paragraph is confusing as such because it shifts the attention of the reader. I think that we can actually restrict to single conclusion with no difference.}
%
%For sequent systems for intuitionistic logics there is always a choice
%to be made: make the system \emph{single conclusion} following
%Gentzen~\cite{Gentzen} or \emph{multiple conclusion} following
%Maehara~\cite{Maehara}. In our work we choose the multiple conclusion
%variant because of the closer correspondence to the semantics. In that
%respect, our system is closer to~\cite{kuz:str} than
%to~\cite{Simpson} and~\cite{mar:str}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Intuitionistic modal logics}

%%Labelled sequents are formed from by labelled formulas of the form $x \colon A$  and relational atoms of the form $x$R$y$, where $x$, $y$ range over a set of variables and $A$ is a modal formula. A one-sided labelled sequent is then of the form $\G \Rightarrow \Right$ where $\G$ denotes a set of relational atoms and $\Right$ a multiset of labelled formulas. A simple proof system for classical modal logic K can be obtained in this formalism (\textbf{Fig. 1}). 
%%
%%\begin{figure}[h]
%%\begin{center}
%%
%%$\vlderivation {\vlinf{\id}{}{\G \Rightarrow \Right, x: a, x: \vls-a}{}}$
%%\hspace{7mm}$\vlderivation {\vlinf{\tolab}{}{\toprule}{}}$
%%
%%
%%$\vliinf{\vlab}{}{\G \Rightarrow \Right, x :\vls(A.B)}{\vlabr}{\vlabu}$
%%\hspace{7mm}$\vlinf{\olab}{}{\G \Rightarrow \Right, x \colon \vls[A.B]}{\olabr}$
%%
%%
%%$\vlinf{\blab}{y$ fresh$}{\blabr}{\blabu}$
%%\hspace{7mm}$\vlinf{\dlab}{}{\dlabr}{\dlabu}$
%%
%%
%%\end{center}
%%\caption{System labK}
%%\end{figure}
%%These rule schemes can occur in different contexts and different calculi. The context that interests us is when it is applied to modal logic.
%%\\
%%
%%The idea to extend this system to another to capture intuitionistic modal logics allows us to study the Kripke semantics for this type of logics:


	
	The language of {intuitionisitic modal logic} is the one of intuitionistic propositional logic with the modal operators $\BOX$ and $\DIA$. %, standing most generally for \emph{necessity} and \emph{possibility}.
	%
	Starting with a set $\mathcal{A}$ of atomic propositions, denoted $a$, modal formulas are constructed from the grammar:
	%
	$$
	A \coloncolonequals
	a \mid A \AND A \mid \TOP \mid A \OR A \mid \BOT \mid A \IMP A \mid \BOX A \mid \DIA A
	$$
	%
	%We might sometimes write $\NOT A$ to mean $A \IMP \BOT$.

%Obtaining the intuitionistic variant of K is more involved than the classical variant. 
%%
%Lacking De Morgan duality, there are several variants of k that are classically but not intuitionistically
%equivalent. 
%%
%Five axioms have been considered as primitives in the literature. 
%

The axiomatisation that is now generally accepted as intuitionistic modal logic $\IK$ was given by Plotkin and Stirling~\cite{Plotkin} and is equivalent to the one proposed by Fischer-Servi~\cite{Fischer}.
%, and by Ewald~\cite{Ewald} in the case of intuitionistic tense logic. 
%
It is obtained from intuitionistic propositional logic by adding:
\begin{itemize}
\item the \emph{necessitation rule}: $\BOX A$ is a theorem if $A$ is a theorem; and
\item the following five variants of the \emph{distributivity axiom}:
\begin{equation*}
\label{eq:ik}%\hskip-2em
\begin{array}[t]{r@{\;}l@{\quad}r@{\;}l@{\quad}r@{\;}l}
\kax[1]\colon&\BOX(A\IMP B)\IMP(\BOX A\IMP\BOX B)
&
\kax[3]\colon&\DIA(A\OR B)\IMP(\DIA A\OR\DIA B)
&
\kax[5]\colon&\DIA\BOT\IMP\BOT
\\
\kax[2]\colon&\BOX(A\IMP B)\IMP(\DIA A\IMP\DIA B)
&
\kax[4]\colon&(\DIA A\IMP \BOX B)\IMP\BOX(A\IMP B)\\%x[1ex]
\end{array}
\end{equation*}
\end{itemize}

The relational semantics for $\IK$ was first defined by Fischer-Servi~\cite{Fischer}.
%
It combines the Kripke semantics for intuitionistic propositional logic and the one for classical modal logic, using two distinct relations on the set of worlds.

\begin{definition}
	A \emph{bi-relational frame} $\F$ is a triple $\langle W, R, \le \rangle$ 
%	of a non-empty set of worlds $W$ equipped with two binary relations $R$ and $\le$, where $R$ being the modal \emph{accessibility relation} and $\le$ a preorder (\emph{i.e.} a reflexive and transitive relation), satisfying the following conditions:
	of a set of worlds $W$ equipped with an {accessibility relation} $R$ and a preorder $\le$ satisfying:
	\begin{enumerate}
		\item[(F1)] For $u, v, v' \in W$, if $u$R$v$ and $v \le v'$, there exists $u'$ s.t.~$u \le u'$ and $u' R v'$.
		
		\item[(F2)] For $u', u, v \in W$, if $u \le v$, there exists $v'$ s.t.~$u' R v'$ and $v\le v'$.
	\end{enumerate}
	
\end{definition}

\begin{definition}
	A \emph{bi-relational model} $\M$ is a quadruple $\langle W, R,\le,V \rangle$ with $\langle W, R, \le \rangle$ a bi-relational frame and $V\colon W \to 2^\mathcal{A}$ a monotone valuation function, that is, a function mapping each world $w$ to the subset of propositional atoms true at $w$, additionally subject to:
	$$w \le w' \Rightarrow V(w)\subseteq V(w')$$
\end{definition}


We write $w \Vdash a$ if $a \in V(w)$, and by definition, we always have $w \Vdash \top$ and never that $w \Vdash \bot$. 
%
Then the relation is extended to all formulas by induction, following the rules for both intuitionistic and modal Kripke models:

$w \Vdash \vls(A.B)$ iff $w \Vdash A$ and $w \Vdash B$

$w \Vdash \vls[A.B]$ iff $w \Vdash A$ or $w \Vdash B$

$w \Vdash A \SEQ B$ iff for all $w'$ with $w \le w'$, if $w' \Vdash A$ then $w' \Vdash B$

$w \Vdash \square A$ iff for all $w'$ and $u$ with $w \le w'$ and $w'Ru$, $u \Vdash A$

$w \Vdash \lozenge A$ iff there exists a $u$ such that $wRu$ and $u \Vdash A$.

%We write $w \not\Vdash A$  if it is not the case that $w\Vdash A$.\\

%We write $w \not\Vdash A$ if it is not the case that $w \Vdash A$.%, but contrarily to the classical case, we do not have $w \Vdash \neg A$ iff $w \Vdash A$ (since $\neg A$ is defined as $A \SEQ \bot$).

%From the monotonicity of the valuation function $V$ , we get a monotonicity property for the relation:
%\begin{proposition}(Monotonicity) 
%For any formula $A$ and for $w, w' \in W$, if $w \le w'$ and $w \Vdash A$, then $w' \Vdash A$.

%\end{proposition}

\begin{definition}
	A formula $A$ is \emph{satisfied} in a model $\M = \langle W, R, \le, V \rangle$, if for all $w \in W$ we have $w \Vdash A$.
%
	A formula $A$ is \emph{valid} in a frame $\F = \langle W, R, \le \rangle$, if for all valuations $V$, $A$ is satisfied in $\langle W, R, \le, V \rangle$.
\end{definition}

%It then was investigated in detail in~\cite{Simpson}, in which strong arguments are given in favour of this axiomatic definition: 
%
%it allows for adapting to intuitionistic logic the standard embedding of modal logic into first-order logic, and also provides an extension of the standard Kripke semantics for classical modal logic to the intuitionistic case.

\begin{theorem}[Fischer-Servi~\cite{Fischer}, Plotkin and Stirling~\cite{Plotkin}]
	A formula $A$ is a theorem of $\IK$ if and only if $A$ is valid in every bi-relational frame.
	\todo{Maybe say something about this theorem above}
\end{theorem}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{\todo{title}}

\begin{figure}%[h]
	\small
	\centering
	\begin{tabular}{@{\!}c@{\quad}c}
		$\vlinf{\rn{id}}{}{\G, \Left, x \colon a \Rightarrow \Right, x \colon a }{}$
		&
		$\vlinf{\llabrn\bot}{}{\G, \Left, x\colon \bot \Rightarrow \Right}{}$
		\quad
		$\vlinf{\rlabrn\top}{}{\G, \Left \Rightarrow \Right, x \colon \top}{}$
		\\\\
		$\vlinf{\llabrn\AND}{}{\G,\Left, x \colon \vls(A.B) \Rightarrow \Right}{\conjlef}$
		&
		$\vliinf{\rlabrn\AND}{}{\G,\Left \Rightarrow \Right, x \colon \vls(A.B)}{\conjrig}{\conjrigh}$
		\\\\
		$\vliinf{\llabrn\OR}{}{\G, \Left, x \colon \vls[A.B] \Rightarrow \Right}{\G, \Left, x   \colon   A \Rightarrow \Right}{\G, \Left, x\colon B \Rightarrow \Right}$
		&
		$\vlinf{\rlabrn\OR}{}{\G, \Left \Rightarrow \Right, x \colon \vls[A.B]}{\G, \Left \Rightarrow \Right, x   \colon   A, x   \colon   B}$
		\\\\
%		\multicolumn{2}{c}{
		$\vlinf{\llabrn\IMP}{\text{\scriptsize $y$ fresh}}{\G, \Left \Rightarrow \Right, x \colon A \SEQ B}{\G, \Left, x \le y, y \colon A \Rightarrow \Right, y \colon B}$
%		}
%		\\\\
%		\multicolumn{2}{c}{
% 		$\vliinf{\rlabrn\IMP}{}{\G, x \le y, \Left, x \colon A \SEQ B \Rightarrow \Right}{\G, x \le y, \Left \Rightarrow \Right, y \colon A}{\G, x \le y, \Left, y \colon B \Rightarrow \Right}$ 
 		&$\vliinf{\rlabrn\IMP}{\text{\scriptsize $x \le y \in \G$}}{\G, \Left, x \colon A \SEQ B \Rightarrow \Right}{\G, \Left \Rightarrow \Right, y \colon A}{\G, \Left, y \colon B \Rightarrow \Right}$
% 		}
		\\\\
		$\vlinf{\llabrn\BOX}{}{\G, \Left, x \le y, yRz, x \colon \square A \Rightarrow \Right}{\G,\Left, x \le y, yRz, x \colon \square A, z \colon A \Rightarrow \Right}$
		&
		$\vlinf{\rlabrn\BOX}{\text{\scriptsize $y, z$ fresh}}{\G, \Left \Rightarrow \Right, x \colon \square A}{\G, \Left, x \le y, y$R$z \Rightarrow \Right, z \colon A}$
		\\\\
		$\vlinf{\llabrn\DIA}{\text{\scriptsize $y$ fresh}}{\G, \Left, x \colon \lozenge A \Rightarrow \Right}{\G, \Left, x$R$y, y \colon A \Rightarrow \Right}$
		&
		$\vlinf{\rlabrn\DIA}{}{\G, \Left, x$R$y \Rightarrow \Right, x \colon \lozenge A}{\G, \Left, x$R$y \Rightarrow \Right, x \colon \lozenge A, y \colon A}$
		\\
		\multicolumn{2}{c}{
		$\mbox{\hbox to .9\linewidth{\dotfill}}$
		}
		\\
		$\vlinf{\rn{refl}}{}{\G, \Left \Rightarrow \Right}{\G, x\le x, \Left \Rightarrow \Right}$
		&
		$\vlinf{\rn{trans}}{}{\G, x \le y, y \le z, \Left \Rightarrow \Right}{\G, x \le y, y \le z, x \le z, \Left \Rightarrow \Right}$
		\\\\
		\multicolumn{2}{c}{
		$\vlinf{\rn{F_1}}{\text{\scriptsize $u$ fresh}}{\G, xRy, y \le z, \Left \SEQ \Right}{\G, xRy, y \le z, x \le u, uRz, \Left \SEQ \Right}$
		}
		\\\\
		\multicolumn{2}{c}{
		$\vlinf{\rn{F_2}}{\text{\scriptsize $u$ fresh}}{\G, xRy,x \le z, \Left \SEQ \Right}{\G, xRy, x \le z, y \le u, zRu, \Left \SEQ \Right }$		
		}
	\end{tabular}		
	
	\caption{System $\labIKp$}
	\label{fig:labIKp}
\end{figure}

Simpson~\cite{Simpson} followed the lines of Gentzen in a labelled context, namely, he developed a labelled natural deduction framework for modal logics and then converted it into sequent systems with the consequent restriction to one formula on the right-hand side of each sequent.
%
This worked as well in the labelled setting as in the ordinary sequent case: we followed Simpson's sequent system where intuitionistic labelled sequents are written $\G, \Left \SEQ z \colon C$ for some multiset of labelled formulas $\Left$, some formula $C$, some label $z$ and a set of relational atoms $\G$. 

Echoing the definition of bi-relational structures, another extension of labelled deduction to the intuitionistic setting would be to use two sorts of relational atoms, one for the modal relation $\rel$ and another one for the intuitionistic relation $\leq$. This is the approach developed by Maffezioli, Naibo and Negri in~\cite{Maffezioli}. 
%

The idea is to extend labelled sequents with a preorder relation symbol in order to capture intuitionistic modal logics, that is to define intuitionistic labelled sequents from labelled formulas $x \colon A$, relational atoms $x \rel y$, and preorder atoms of the form $x \leq y$, where $x$, $y$ range over a set of labels and $A$ is an intuitionistic modal formula.

\begin{definition}
A two-sided intuitionistic \emph{labelled sequent} would be of the form $\G, \Left \Rightarrow \Right$ where $\G$ denotes a set of relational and preorder atoms, and $\Left$ and $\Right$ are multiset of labelled formulas.
\end{definition}


\todo{Description of the rules and comparison with standard calculi in particular Simpson's}


%Labelled sequents are formed from by labelled formulas of the form $x \colon A$ and relational or equality atoms of the form $x \rel y$ or $x = y $ respectively, where $x$,$y$ range over  a set of variables (called labels) and $A$ is a modal formula. A (onde-sided) \emph{labelled sequent} is then of the form $\G \SEQ \Right$ where $\G$ denotes a set of relational or equality atoms, and $\Right$ a multiset of labelled formulas.


%
We then obtain a proof system $\labIKp$ (\ref{fig:labIKp}) for intuitionistic modal logic in this formalism. 
%
%As we mentioned, we obtain a proof system $\labIKp$ which allows us to give an extension of labelled deduction to the intuitionistic world and then we prove the next theorem:

%\begin{theorem}
%	\label{thm:sound-compl}
%	A formula $A$ is provable in the calculus $\labIKp$ if and only if $A$ is valid in every bi-relational frame.
%\end{theorem}
%
%On the one hand, we prove directly that each rule from our system is sound wrt.~bi-relational structures.
%
%On the other hand, we show that $\labIKp$ is complete wrt.~Simpson's $\lab\IK$, and the theorem then follows from Theorem~\ref{thm:simpson-sound-compl}. 


\begin{theorem}\label{thm:cutfree-compl}
	%	Let $\CC$ be a set of geometric frame properties as in~\eqref{eq:cla-geometric} and $\labbrn{\CC}$ be the corresponding set of rules following schema~\eqref{eq:modal-grs}.
	%
	For any formula $A$, the following are equivalent.
	%
	\begin{enumerate}
		\item\label{i} $A$ is a theorem of $\IK$ 
		%
		\item\label{ii} $A$ is provable in $\labIKp +\labrn{cut}$ where $\labrn{cut}$ is %\quad
%		\todo{}
%		\smash{%\fbox{
			$$\vliinf{\labrn{cut}}{}{\G_1, \G_2, \Left \SEQ \Right}{\G_1, \Left \SEQ \Right, z \colon C}{\G_2, \Left, z \colon C \SEQ \Right}$$
%		}%}
		%
		\item\label{iii} $A$ is provable in $\labIKp$
		%
		\item\label{iv} $A$ is valid in every birelational frames %satisfying the properties in $\CC$.
	\end{enumerate}
\end{theorem}

%We show that each rule from our system is sound.
%
%We also present a syntactic completeness proof with respect the Hilbert system: we prove all Hilbert axioms using the rules from our system (i.e. proof of all propositional intuitionistic axioms, the five variants of k axiom from the intuitionistic syntax, simulate the necessitation rule and simulate modus ponens).
%
%We present a completeness proof for our system $\labIKp$ using the Simpson system. 
%
%The idea comes from knowing that the Simpson system is a Cut-free system, so this proof lets us know that our system is complete without the cut rule. 
%
%We show the proof by case analysis. 
%
%Most of the rules from Simpson system are the same as the rules in the system $\labIKp$, then we prove for the rules that are different.


\todo{In the course of the proof we have to derive the five $\kax$ axioms. As an example, we display the derivation of $\kax[4]$ which illustrates the need of having the rule corresponding to $F_1$ in the system.}

\hspace*{-1.5cm}
%\scalebox{.9}{
$
\vlderivation{
	\vlin{\sir}{\text{\scriptsize $y$ fresh}} {\Rightarrow x \colon (\lozenge A \SEQ \square B) \SEQ \square (A \SEQ B)}{
		\vlin{\sbr}{\text{\scriptsize $z, w$ fresh}}{x \le y, y\colon \lozenge A \SEQ \square B \Rightarrow y \colon \square (A \SEQ B)}{
			\vlin {\sir}{\text{\scriptsize $u$ fresh}}{x \le y, y\le z, z \rel w, y \colon \lozenge A \SEQ \square B \Rightarrow w \colon A \SEQ B }{
				\vlin {\fone}{}{x \le y, y \le z, w \le u, z \rel w, y \colon \lozenge A \SEQ \square B, u \colon A \Rightarrow u \colon B}{
					\vlin {\trans}{}{x \le y, y \le z, w \le u, z \le t, z \rel w, t \rel u, y \colon \lozenge A \SEQ \square B, u \colon A \Rightarrow u \colon B}{
						\vliin {\sil}{}{x \le y, y \le z, w \le u, z \le t, y \le t, z \rel w, t \rel u, y \colon \lozenge A \SEQ \square B, u \colon A \Rightarrow u \colon B}{
							\vlin {\sdr}{}{x \le y, y \le z, w \le u, z \le t, y \le t, z \rel w, t \rel u, u \colon A \Rightarrow u \colon B, t \colon \lozenge A}{
								\vlin {\refl}{}{x \le y, y \le z, w \le u, z \le t, y \le t, z \rel w, t \rel u, u \colon A \Rightarrow u \colon B, t \colon \lozenge A, u \colon A}{
									\vlin {\ids}{}{x \le y, y \le z, w \le u, z \le t, y \le t, u \le u, z \rel w, t \rel u, u \colon A \Rightarrow u \colon B, t \colon \lozenge A, u \colon A}{
										\vlhy {}
										}
									}
								}
							}{
%						\vlin {\refl}{}{x \le y, y \le z, w \le u, z \le t, y \le t, z \rel w, t \rel u, y \colon \lozenge A \vljm \square B, u \colon A, t \colon \square B \Rightarrow u \colon B}{
%							\vlin {\sbl}{}{x \le y, y \le z, w \le u, z \le t, y \le t, t \le t, z \rel w, t \rel u, y \colon \lozenge A \vljm \square B, u \colon A, t \colon \square B \Rightarrow u \colon B}{
%								\vlin {\refl}{}{x \le y, y \le z, w \le u, z \le t, y \le t, t \le t, z \rel w, t \rel u, y \colon \lozenge A \vljm \square B, u \colon A, t \colon \square B, u \colon B \Rightarrow u \colon B}{
%									\vlin {\ids}{}{x \le y, y \le z, w \le u, z \le t, y \le t, t \le t, u \le u, z \rel w, t \rel u, y \colon \lozenge A \vljm \square B, u \colon A, t \colon \square B, u \colon B \Rightarrow u \colon B}{
										\vlhy {\qquad\vdots\qquad}
%										}
%									}
%								}
%							}
						}
					}
				}
			}
		}
	}
}$
%}

\todo{This derivation uses a general version of the identity rule that applies to generic formulas rather than atomic ones. We therefore have to show that such a rule is admissible in our system.
We display one step of this admissibility proof tat illustrates the need for the rule $F_2$, the other cases are standard.}

$
\vlderivation{
	\vlin{\llabrn\DIA}{}{\G, x \le y; \Left, \labels{x}{\DIA A} \SEQ \Right, \labels{y}{\DIA A}}{
		\vlin{\color{red}{F_2}}{}{\G, x \le y, x \rel z; \Left, \labels{z}{A} \SEQ \Right, \labels{y}{\DIA A}}{
			\vlin{\rlabrn\DIA}{}{\G, x \le y, x \rel z, z \le u, y \rel u; \Left, \labels{z}{A} \SEQ \Right, \labels{y}{\DIA A}}{
				\vlin{\labrn{id_g}}{}{\G, x \le y, x \rel z, z \le u, y \rel u; \Left, \labels{z}{A} \SEQ \Right, \labels{y}{\DIA A}, \labels{u}{A}}{
					\vlhy{}
				}
			}
		}
	}
}
$



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Extensions}

$$\vlinf{\blacksquare_\rn{4}}{\text{\footnotesize $u'$ fresh}}{\G, w \rel v, v \rel u, \Left \SEQ \Right}{\G, w \rel v, v \rel u, w \rel u, \Left \SEQ \Right}$$


In~\cite{Plotkin}, Plotkin and Stirling give a correspondence result for intuitionistic modal logic extended with a family of axioms wrt.~some classes of bi-relational frames.
%
For example, the frames that validate the axiom $\rn{4}_\rn\DIA \colon \DIA\DIA A \IMP \DIA A$ are exactly the ones satisfying the condition:
\begin{itemize}
	\item[($\blacklozenge_\rn{4}$)] if $w \rel v$ and $v \rel u$, there exists a $u'$ s.t.~$u \le u'$ and $wRu'$.
\end{itemize}

Incorporating the preorder symbol into the syntax of our sequents allows us to also obtain a sound and complete proof system for the intuitionistic modal logic extended with axiom $\rn{4}_\rn\DIA$, by designing the following rule:
$$\vlinf{\blacklozenge_\rn{4}}{\text{\footnotesize $u'$ fresh}}{\G, w \rel v, v \rel u, \Left \SEQ \Right}{\G, w \rel v, v \rel u, u \le u', w \rel u' , \Left \SEQ \Right}$$


Therefore, we decompose further the formalism of labelled sequents and extend the reach of labelled deduction to the logics studied in~\cite{Plotkin}.
%
These systems enjoy cut-elimination via usual arguments, the generality of the result is subject of ongoing study.


\bibliographystyle{alpha}
\bibliography{references}


\end{document}


%\begin{figure}[h]
%\begin{center}
%$\vlderivation{\vlinf{\id}{}{\G, \Left, x \colon a \Rightarrow x \colon a }{}}$
%\hspace{5mm}$\vlderivation{\vlinf{\botlab}{}{\G, \Left, x\colon \bot \Rightarrow z\colon A}{}}$
%\hspace{5mm}$\vlderivation{\vlinf{\toplab}{}{\G, \Left \Rightarrow x \colon \top}{}}$
%
%\vspace{2mm}
%
%$\vlinf{\andleflab}{}{\G,\Left, x \colon \vls(A.B) \Rightarrow z \colon C}{\G, \Left, x\colon \vls(A.B,x \colon A, x \colon B \Rightarrow z \colon C)}$\hspace{5mm}$\vliinf{\andriglab}{}{\G,\Left \Rightarrow x \colon \vls(A.B)}{\G, \Left \Rightarrow x \colon A}{\G, \Left \Rightarrow x \colon B}$
%
%\vspace{2mm}
%$\vliinf{\orleflab}{}{\G, \Left, x \colon \vls[A.B] \Rightarrow  \colon C}{\G, \Left, x \colon \vls[A.B], x \colon A \Rightarrow z \colon C}{\G, \Left, x \colon \vls[A.B], x   \colon   B \Rightarrow z \colon C}$
%
%\vspace{2mm}
%
%$\vlinf{\orriglabo}{}{\G, \Left \Rightarrow x \colon \vls[A.B]}{\G, \Left \Rightarrow x   \colon   A}$
%\hspace{7mm}$\vlinf{\orriglabt}{}{\G, \Left \Rightarrow x \colon \vls[A.B]}{\G, \Left \Rightarrow x \colon  B}$
%
%\vspace{2mm}
%
%$\vliinf{\illab}{}{\G, \Left, x \colon A \vljm B \Rightarrow z \colon C}{\G, \Left, x \colon A \vljm B \Rightarrow x \colon A}{\G, \Left, x \colon A \vljm B, x \colon B \Rightarrow z \colon C}$
%
%\vspace{2mm}
%
%$\vlinf{\irlab}{}{\G, \Left \Rightarrow x \colon A \vljm B}{\G, \Left, x \colon A \Rightarrow x \colon B}$
%
%\vspace{2mm}
%
% $\vlderivation {\vlinf{\bllab}{}{\G, x$R$y, \Left x \colon \square A \Rightarrow z \colon B}{\G, x$R$y, \Left, x \colon \square A, y \colon A \Rightarrow z \colon B}}$
%\hspace{5mm}  $\vlinf{\brlab}{$ $y$ fresh$}{\G, \Left \Rightarrow x \colon \square A}{\G, x$R$y, \Left \Rightarrow y \colon A}$
%
%\vspace{2mm}
%
%$\vlinf{\dllab}{$ $y$ fresh $}{\G, \Left, x \colon \lozenge A \Rightarrow z \colon B}{\G, x$R$y, \Left, x \colon \lozenge A, y \colon A \Rightarrow z \colon B}$
%\hspace{5mm}$\vlinf{\drlab}{}{\G, x$R$y, \Left,  \Rightarrow x \colon \lozenge A}{\G, x$R$y, \Left \Rightarrow y \colon A}$
%
%\end{center}
%\caption{System labIK}
%\end{figure}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%\begin{figure}%[h]
%	
%	\begin{center}
%		
%		$\vlderivation { \vlin {\ids}{}{\G, \Left, x \colon a \Rightarrow x\colon a}{\vlhy {}}}$ \hspace{7mm} $\vlderivation { \vlin {\sbot}{}{\G, \Left, x \colon \bot \Rightarrow z\colon A}{\vlhy {}}}$
%		
%		\vspace{3mm}
%		
%		$\vlderivation {\vlin {\svlef}{}{\G, \Left, x \colon \vls(A.B) \Rightarrow z \colon C}{\vlhy {\G, \Left, x \colon A, x \colon B \Rightarrow z \colon C}}}$
%		\hspace{7mm}$\vlderivation { \vliin {\svrig}{}{\G, \Left, \Rightarrow x \colon \vls(A.B)}{\vlhy {\G, \Left \Rightarrow x \colon A }}{\vlhy {\G, \Left \Rightarrow x \colon B}}}$
%		
%		\vspace{3mm}
%		
%		
%		$\vlderivation {\vliin {\solef}{}{\G, \Left, x \colon \vls[A.B] \Rightarrow z \colon C}{\vlhy {\G, \Left, x \colon A \Rightarrow z \colon C}}{\vlhy {\G, \Left, x \colon B \Rightarrow z \colon C}}}$
%		\hspace{7mm}$\vlderivation { \vlin{\sorone}{}{\G, \Left \Rightarrow x \colon \vls[A.B]}{\vlhy {\G, \Left \Rightarrow x \colon A}}}$
%		\hspace{7mm}$\vlderivation { \vlin {\sotwo}{}{\G, \Left \Rightarrow x \colon \vls[A.B]}{\vlhy {\G, \Left \Rightarrow x \colon B}}}$
%		
%		\vspace{3mm}
%		
%		$\vlderivation {\vliin{\sil}{}{\G, \Left, x \colon A \vljm B \Rightarrow z \colon C}{\vlhy {\G, \Left \Rightarrow x \colon A}}{\vlhy {\G, \Left, x \colon B \Rightarrow z \colon C}}}$
%		\hspace{7mm}$\vlderivation {\vlin{\sir}{}{\G,  \Left, x \colon A \Rightarrow x \colon B}{\vlhy {\G, \Left, x \colon A \Rightarrow x \colon B}}}$
%		
%		\vspace{3mm}
%		
%		$\vlderivation { \vlin {\sbl}{}{\G, x$R$y, \Left, x \colon \square A \Rightarrow z\colon B}{\vlhy {\G, x$R$y, \Left, x \colon \square A, y \colon A \Rightarrow z\colon B}}}$
%		\hspace{7mm}$\vlderivation { \vlin {\sbr}{y$ is fresh$}{\G, \Left \Rightarrow x \colon \square A}{\vlhy {\G, x$R$y, \Left \Rightarrow y \colon A}}}$
%		
%		\vspace{3mm}
%		
%		$\vlderivation { \vlin{\sdl}{y$ is fresh$}{\G, \Left, x \colon \lozenge A \Rightarrow z \colon B}{\vlhy {\G, x$R$y, \Left, y \colon A \Rightarrow z \colon B}}}$
%		\hspace{7mm}$\vlderivation {\vlin {\sdr}{}{\G,x$R$y, \Left \Rightarrow x \colon \lozenge A}{\vlhy {\G, x$R$y, \Left \Rightarrow y \colon A }}}$
%		
%	\end{center}
%	
%	\caption{System $\lab\IK$}
%	\label{fig:labIK}
%\end{figure}
%
%\begin{theorem}[Simpson~\cite{Simpson}]
%	\label{thm:simpson-sound-compl}
%	A formula $A$ is provable in the calculus $\lab\IK$ if and only if $A$ is valid in every bi-relational frame.
%\end{theorem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%\begin{figure}%[h]
%	\small
%	\centering
%
%		$\vlinf{\rn{id}}{}{\G, \Left, x \colon a \Rightarrow \Right, x \colon a }{}$
%		\hspace{5mm}
%		$\vlinf{\llabrn\bot}{}{\G, \Left, x\colon \bot \Rightarrow \Right}{}$
%		\hspace{5mm}
%		$\vlinf{\rlabrn\top}{}{\G, \Left \Rightarrow \Right, x \colon \top}{}$
%%		
%%		\vspace{4mm}
%		\\[1.5ex]
%%		
%		$\vlinf{\llabrn\AND}{}{\G,\Left, x \colon \vls(A.B) \Rightarrow \Right}{\conjlef}$
%		\hspace{7mm}
%		$\vliinf{\rlabrn\AND}{}{\G,\Left \Rightarrow \Right, x \colon \vls(A.B)}{\conjrig}{\conjrigh}$
%		
%		\vspace{4mm}
%		
%		$\vliinf{\solef}{}{\G, \Left, x \colon \vls[A.B] \Rightarrow \Right}{\G, \Left, x   \colon   A \Rightarrow \Right}{\G, \Left, x   \colon   B \Rightarrow \Right}$
%		\hspace{7mm}
%		$\vlinf{\sorig}{}{\G, \Left \Rightarrow \Right, x \colon \vls[A.B]}{\G, \Left \Rightarrow \Right, x   \colon   A, x   \colon   B}$
%		
%		\vspace{4mm}
%		
%		$\vlinf{\sir}{$ $y$ fresh$}{\G, \Left \Rightarrow \Right, x \colon A \vljm B}{\G, \Left, x \le y, y \colon A \Rightarrow \Right, y \colon B}$
%		
%		\vspace{4mm}
%		
%		$\vliinf{\sil}{}{\G, \Left, x \le y, x \colon A \vljm B \Rightarrow \Right}{\G, \Left, x \le y, x \colon A \vljm B \Rightarrow \Right, y \colon A}{\G, \Left, x \le y, y \colon B \Rightarrow \Right}$
%		
%		\vspace{4mm}
%		
%		$\vlderivation {\vlinf{\sbl}{}{\G, \Left, x \le y, y$R$z, x \colon \square A \Rightarrow \Right}{\G,\Left, x \le y, y$R$z, x \colon \square A, z \colon A \Rightarrow \Right}}$
%		\hspace{5mm} $\vlinf{\sbr}{$ $y, z$ fresh$}{\G, \Left \Rightarrow \Right, x \colon \square A}{\G, \Left, x \le y, y$R$z \Rightarrow \Right, z \colon A}$
%		
%		
%		\vspace{4mm}
%		
%		$\vlinf{\sdl}{$ $y$ fresh $}{\G, \Left, x \colon \lozenge A \Rightarrow \Right}{\G, \Left, x$R$y, y \colon A \Rightarrow \Right}$
%		\hspace{5mm}$\vlinf{\sdr}{}{\G, \Left, x$R$y \Rightarrow \Right, x \colon \lozenge A}{\G, \Left, x$R$y \Rightarrow \Right, x \colon \lozenge A, y \colon A}$
%		
%		
%		\vspace{2mm}
%		
%		
%		\vspace{2mm}
%		
%		$\vlinf{\refl}{}{\G, \Left \Rightarrow \Right}{\G, x\le x, \Left \Rightarrow \Right}$
%		\hspace{7mm} $\vlinf{\trans}{}{\G, x \le y, y \le z, \Left \Rightarrow \Right}{\G, x \le y, y \le z, x \le z, \Left \Rightarrow \Right}$
%		
%		
%		\vspace{2mm}
%		
%		$\vlinf{\rn{F_1}}{\text{\footnotesize $u$ fresh}}{\G, xRy, y \le z, \Left \SEQ \Right}{\G, xRy, y \le z, x \le u, uRz, \Left \SEQ \Right}$
%		%
%		$\vlinf{\rn{F_2}}{\text{\footnotesize $u$ fresh}}{\G, xRy,x \le z, \Left \SEQ \Right}{\G, xRy, x \le z, y \le u, zRu, \Left \SEQ \Right }$		
%	
%	\caption{System $\labIKp$}
%	\label{fig:labHIK}
%\end{figure}
